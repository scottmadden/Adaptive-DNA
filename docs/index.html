<!doctype html><html lang="en"><head>
<meta charset="utf-8"/><title>Adaptive DNA — Portal</title>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="icon" href="/favicon.svg"/>
<style>
:root{--brand:#6C5CE7;--brand2:#00CEC9;--brandA:#8f83f0;--brandB:#3d3491;--brandText:#fff;color-scheme:light dark}
*{box-sizing:border-box}html,body{height:100%;margin:0}body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif}
.appbar{position:sticky;top:0;z-index:3;background:linear-gradient(135deg,color-mix(in srgb,var(--brand)12%,transparent) 0%,transparent 60%),Canvas;border-bottom:1px solid #ccc4;padding:14px 18px}
.brand{display:flex;align-items:center;gap:14px;max-width:1200px;margin:0 auto;flex-wrap:wrap}
.logo{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;overflow:hidden;background:radial-gradient(120% 120% at 20% 20%,var(--brandA)0%,var(--brand)55%,var(--brandB)100%)}
.title{display:flex;flex-direction:column;gap:2px}.title h1{margin:0;font-size:18px;font-weight:700}
.dev-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;color:var(--brandText);background:linear-gradient(90deg,var(--brand),color-mix(in srgb,var(--brand)65%,white));border:1px solid color-mix(in srgb,var(--brand)30%,black);box-shadow:0 2px 10px color-mix(in srgb,var(--brand)30%,transparent);cursor:pointer}
main{padding:22px;max-width:1200px;margin:0 auto}.grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.card{border:1px solid #ccc4;border-radius:12px;padding:16px;background:Canvas;display:flex;flex-direction:column;gap:10px;transition:border-color .2s,box-shadow .2s,transform .08s}
.card:hover{border-color:color-mix(in srgb,var(--brand)40%,#ccc);box-shadow:0 4px 22px #0001;transform:translateY(-1px)}
.button{padding:8px 12px;border-radius:10px;text-decoration:none;font-weight:600;border:1px solid color-mix(in srgb,var(--brand)28%,#9994);background:linear-gradient(180deg,color-mix(in srgb,var(--brand)10%,white),color-mix(in srgb,var(--brand)3%,#f3f3f3));color:inherit}
.button:hover{border-color:var(--brand2);box-shadow:0 0 0 2px color-mix(in srgb,var(--brand2)40%,transparent);outline:2px solid var(--brand2);outline-offset:2px}
.badge{font-size:12px;padding:3px 8px;border-radius:999px;border:1px solid #0000}.ok{color:#065f46;background:#ecfdf5;border-color:#10b98155}.pending{color:#92400e;background:#fef3c7;border-color:#f59e0b55}
.back-link{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;border:1px solid color-mix(in srgb,var(--brand)28%,#9994);text-decoration:none;color:inherit;background:linear-gradient(180deg,color-mix(in srgb,var(--brand)10%,white),color-mix(in srgb,var(--brand)3%,#f3f3f3))}
.back-link .pill{display:inline-flex;align-items:center;gap:6px;padding:2px 8px;border-radius:999px;background:var(--pill-bg,#eee);border:1px solid color-mix(in srgb,var(--brand)35%,#9993)}
.toast{position:fixed;top:20px;left:50%;transform:translateX(-50%) translateY(-16px);z-index:999;min-width:260px;max-width:420px;padding:12px 16px;border-radius:10px;font-size:13px;font-weight:600;background:#065f46;color:#ecfdf5;border:1px solid #10b98188;box-shadow:0 8px 30px #0002;display:flex;justify-content:space-between;align-items:center;opacity:0;transition:transform .25s,opacity .25s}
.toast.show{transform:translateX(-50%) translateY(0);opacity:1}.toast.err{background:#7f1d1d;color:#fee2e2;border-color:#ef444488}
</style>
</head><body>
<noscript><div style="padding:12px;border:1px solid #f59e0b88;background:#fef3c7">JavaScript is required for the developer portal.</div></noscript>
<div class="appbar"><div class="brand">
  <div class="logo" aria-hidden="true"></div>
  <div class="title"><h1>Adaptive DNA</h1><p class="sub">Developer portal · Storybook & API docs</p></div>
  <button id="dev-badge" class="dev-badge" hidden title="Toggle Dev (Ctrl/⌘+Shift+D)"><span style="width:8px;height:8px;border-radius:999px;background:#10b981;box-shadow:0 0 0 2px #10b98155;display:inline-block"></span> DEV</button>
  <a id="back-viewer" class="back-link" hidden><span aria-hidden="true">←</span><span class="pill">Viewer</span> Back</a>
</div></div>
<main>
  <div class="grid" id="grid"></div>
  <div class="card" id="dev-card" hidden>
    <h2>Dev · Tools</h2>
    <div class="actions">
      <button id="dev-toast-ok" class="button">Success Toast</button>
      <button id="dev-toast-err" class="button">Error Toast</button>
    </div>
    <div style="margin-top:10px">
      <a id="back-viewer-card" class="back-link" hidden><span>←</span><span class="pill">Viewer</span> Back to Viewer</a>
    </div>
  </div>
  <section style="margin-top:16px" class="card">
    <h2>Notes</h2>
    <ul style="list-style:none;padding:0;margin:8px 0;display:grid;gap:6px;font-size:12px;opacity:.9">
      <li><span>Default spec</span> <code>/openapi.yaml</code></li>
      <li><span>Viewers</span> <code>/openapi.html</code>, <code>/swagger.html</code></li>
      <li><span>Storybook</span> <code>/</code> (pending)</li>
    </ul>
  </section>
</main>
<footer style="padding:18px;text-align:center;font-size:12px;opacity:.75;border-top:1px solid #ccc4">Generated by Adaptive DNA — Portal · Checked: <span id="ts">—</span></footer>
<div id="toast" class="toast"><span id="toast-msg"></span><button id="toast-close" style="all:unset;cursor:pointer;margin-left:12px">×</button></div>
<script>
function siteRoot(){const{origin,pathname}=location;let p=pathname;if(p.endsWith('/index.html'))p=p.slice(0,-11);const parts=p.split('/').filter(Boolean);return parts.length<=1?origin+'/':origin+'/'+parts[0]+'/'}
const endpoints=[{id:"sb",url:"/",label:"Storybook",hint:"UI component catalog"},{id:"rdoc",url:"/openapi.html",label:"OpenAPI (ReDoc)",hint:"Human-friendly API docs"},{id:"swg",url:"/swagger.html",label:"OpenAPI (Swagger UI)",hint:"Interactive API explorer"},{id:"raw",url:"/openapi.yaml",label:"OpenAPI (Raw)",hint:"Raw spec"}];
async function check(url){try{const m=url==="/"?"GET":"HEAD";const r=await fetch(url,{method:m});return r.ok}catch{return false}}
(async()=>{const g=document.getElementById("grid");for(const e of endpoints){const c=document.createElement('div');c.className='card';c.innerHTML=`<h3>${e.label}</h3><div style="opacity:.85">${e.hint}</div><div style="display:flex;gap:10px;align-items:center;margin-top:auto"><a class="button muted" id="${e.id}-btn" href="${e.url}">Open</a><span class="badge pending" id="${e.id}-badge">Checking…</span></div>`;g.appendChild(c)}for(const e of endpoints){const ok=await check(e.url);const btn=document.getElementById(`${e.id}-btn`),badge=document.getElementById(`${e.id}-badge`);if(ok){badge.textContent='Available';badge.className='badge ok';btn.classList.remove('muted')}else{badge.textContent='Pending';badge.className='badge pending'}}document.getElementById('ts').textContent=new Date().toISOString()})();
const T=document.getElementById('toast'),TM=document.getElementById('toast-msg');function toast(m,t='ok',d=3000){T.classList.toggle('err',t==='err');TM.textContent=m;const v=T.classList.contains('show');if(!v){void T.offsetWidth;T.classList.add('show')}clearTimeout(T._t);T._t=setTimeout(()=>T.classList.remove('show'),d)}document.getElementById('toast-close').onclick=()=>{T.classList.remove('show');clearTimeout(T._t)};
(function(){const D=document.getElementById('dev-card'),B=document.getElementById('dev-badge');const KEY=e=>((e.key==='D'||e.key==='d')&&e.shiftKey&&(e.ctrlKey||e.metaKey));function bind(){if(D._b)return;document.getElementById('dev-toast-ok').onclick=()=>toast('Everything looks good!');document.getElementById('dev-toast-err').onclick=()=>toast('Something went wrong!','err');D._b=true}function showBadge(on){B.hidden=!on;B.setAttribute('aria-pressed',on?'true':'false')}function show(){if(!D.hidden)return;D.hidden=false;sessionStorage.setItem('dev-card','1');bind();showBadge(true);document.getElementById('back-viewer').hidden=true}function hide(){if(D.hidden)return;D.hidden=true;sessionStorage.removeItem('dev-card');showBadge(false);document.getElementById('back-viewer').hidden=true}function tog(){D.hidden?show():hide()}const p=new URLSearchParams(location.search);const init=p.get('dev')==='1'||location.hash==='#dev'||sessionStorage.getItem('dev-card')==='1';if(init)show();else showBadge(false);addEventListener('keydown',e=>{const t=e.target;const typing=t&&(t.tagName==='INPUT'||t.tagName==='TEXTAREA'||t.isContentEditable);if(typing)return;if(KEY(e)){e.preventDefault();tog()}});B.onclick=tog})();
(function(){const backHdr=document.getElementById('back-viewer');const backCard=document.getElementById('back-viewer-card');const params=new URLSearchParams(location.search);const from=params.get('from')==='viewer';const viewer=params.get('viewer');let last=sessionStorage.getItem('last-viewer')||'openapi.html';if(from&&viewer)sessionStorage.setItem('last-viewer',viewer),last=viewer;const href=siteRoot()+(last||'openapi.html');const meta=(f)=>{const b=(f||'').toLowerCase();if(b.includes('swagger'))return{label:'Swagger UI',color:'#85ea2d'};if(b.includes('openapi'))return{label:'ReDoc',color:'#e53935'};return{label:'Viewer',color:'#6b7280'}};const m=meta(last);if(backCard){backCard.href=href;backCard.title=`Return to ${m.label}`;backCard.style.setProperty('--pill-bg',m.color+'22');backCard.hidden=false}if(backHdr){backHdr.hidden=true;backHdr.removeAttribute('href');backHdr.title='Back link available inside Dev card'}})();
</script></body></html>
